-@ val inventory: List[String]
-@ val produceKinds: List[String]

- attributes("title") = "Carrden Inventory"
:javascript
    $(function() {
        $('form[data-async]').on('submit', function (event) {
            event.preventDefault();
            var $form = $(this);
            var $target = $($form.attr('data-target'));
            $.ajax({
                type: $form.attr('method'),
                url:  $form.attr('action'),
                data: $form.serialize(),
                success: function (data, status) {
                    if (data.hasOwnProperty('price')) {
                        $('#sale-status-text').text("$" + data.price);
                        $('#sale-status').addClass('alert-success in');
                    } else {
                        $('#sale-status-text').innerHTML("<strong>Out of stock:</strong> not enough" + data.what + "s");
                        $('#sale-status').addClass('alert-warning in');
                    }
                },
                error: function (result) {
                    $('#sale-status-text').text("Error" + result.code);
                    $('#sale-status').addClass('alert-failure in')
                }
            });
            $('#sale-form')[0].reset()
        });
        $('.sale-close').click(function () {
            $('#sale-status').removeClass('in')
            $('#sale-form')[0].reset()
        });
        $('.close').click(function () {
            $(this).parent.removeClass('in')
        });
    });

div.jumbotron.masthead
    div.container
        h1 Carrden Inventory
        p Click <i>Enter Sale</i> to begin a sale.
        button(
        data-toggle='modal'
        data-target='#sale'
        class='btn btn-primary btn-lg')
            span(class='glyphicon glyphicon-edit')
            span Enter Sale

div.container

    div(
        class='modal'
        id='sale'
        role='dialog'
        tabindex='-1'
        aria-labelledby='Sale'
        aria-hidden='true')
        div.modal-dialog
            div.modal-content
                div.modal-header
                    button(
                        type='button'
                        class='close sale-close'
                        data-dismiss='modal') &times;
                    h2 Sale
                    div(id='sale-status' class='alert alert-block fade' )
                        button(type='button' class='close sale-close') &times;
                        span(id='sale-status-text')
                div.modal-body
                    form(
                    id='sale-form'
                    class='form-horizontal well'
                    data-async data-target='#sale-form'
                    action='/sale/'
                    method='post')
                        fieldset(form='sale-form')
                            ul
                                - for (kind <- produceKinds)
                                    li(style='list-style-type: none;padding: 10px;')
                                        div.input-group
                                            div.input-group-addon
                                                =kind
                                            input(
                                                name=kind
                                                id=kind
                                                type='text'
                                                class='form-control'
                                                placeholder='amount')

                div.modal-footer
                    div(
                    class='btn-group'
                    role='group')
                        button(
                        id='cancel-sale'
                        type='button'
                        class='btn btn-danger'
                        data-dismiss='modal')
                            span(class='glyphicon glyphicon-remove')
                            span Cancel Sale
                        button(
                        type='submit'
                        form="sale-form"
                        class='btn btn-success')
                            span(class='glyphicon glyphicon-ok')
                            span Submit



